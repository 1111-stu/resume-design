import{b as e}from"./codemirror.14d39394.js";import{E as t,z as n,S as o,o as a,A as r,B as u,C as i,D as s}from"./@codemirror.01a039cd.js";import{d as c,s as l,J as d,j as f,K as m,f as v,L as g,a7 as b,ad as p}from"./@vue.1091902c.js";
/*!
* VueCodemirror v6.0.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon <https://github.com/surmon-china>
*/var y,h,O=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[e]}),j=Symbol("vue-codemirror-global-config"),S=function(e){var t=new s;return{compartment:t,run:function(n){t.get(e.state)?e.dispatch({effects:t.reconfigure(n)}):e.dispatch({effects:o.appendConfig.of(t.of(n))})}}},x=function(e,t){var n=S(e),o=n.compartment,a=n.run;return function(n){var r=o.get(e.state);a((null!=n?n:r!==t)?t:[])}},C={type:Boolean,default:void 0},D={autofocus:C,disabled:C,indentWithTab:C,tabSize:Number,placeholder:String,style:Object,autoDestroy:C,root:Object,extensions:Array,selection:Object},U={modelValue:{type:String,default:""}},z=Object.assign(Object.assign({},D),U);(h=y||(y={})).Change="change",h.Update="update",h.Focus="focus",h.Blur="blur",h.Ready="ready",h.ModelUpdate="update:modelValue";var B={};B[y.Change]=function(e,t){return!0},B[y.Update]=function(e){return!0},B[y.Focus]=function(e){return!0},B[y.Blur]=function(e){return!0},B[y.Ready]=function(e){return!0};var w={};w[y.ModelUpdate]=B[y.Change];var F=Object.assign(Object.assign({},B),w),T=c({name:"VueCodemirror",props:Object.assign({},z),emits:Object.assign({},F),setup:function(e,o){var s=l(),c=l(),h=l(),C=Object.assign(Object.assign({},O),d(j,{})),D=f((function(){var t={};return Object.keys(p(e)).forEach((function(n){var o;"modelValue"!==n&&(t[n]=null!==(o=e[n])&&void 0!==o?o:C[n])})),t}));return m((function(){var l,d;c.value=function(e){var o=e.onUpdate,a=e.onChange,r=e.onFocus,u=e.onBlur,i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["onUpdate","onChange","onFocus","onBlur"]);return t.create({doc:i.doc,selection:i.selection,extensions:(Array.isArray(i.extensions)?i.extensions:[i.extensions]).concat([n.updateListener.of((function(e){o(e),e.docChanged&&a(e.state.doc.toString(),e),e.focusChanged&&(e.view.hasFocus?r(e):u(e))}))])})}({doc:e.modelValue,selection:D.value.selection,extensions:null!==(l=C.extensions)&&void 0!==l?l:[],onFocus:function(e){return o.emit(y.Focus,e)},onBlur:function(e){return o.emit(y.Blur,e)},onUpdate:function(e){return o.emit(y.Update,e)},onChange:function(t,n){t!==e.modelValue&&(o.emit(y.Change,t,n),o.emit(y.ModelUpdate,t,n))}}),h.value=(d={state:c.value,parent:s.value,root:D.value.root},new n(Object.assign({},d)));var f=function(e){var o=function(){return e.state.doc.toString()},s=S(e).run,c=x(e,[n.editable.of(!1),t.readOnly.of(!0)]),l=x(e,a.of([r])),d=S(e).run,f=S(e).run,m=S(e).run;return{focus:function(){return e.focus()},getDoc:o,setDoc:function(t){t!==o()&&e.dispatch({changes:{from:0,to:e.state.doc.length,insert:t}})},reExtensions:s,toggleDisabled:c,toggleIndentWithTab:l,setTabSize:function(e){d([t.tabSize.of(e),u.of(" ".repeat(e))])},setPlaceholder:function(e){f(i(e))},setStyle:function(e){void 0===e&&(e={}),m(n.theme({"&":Object.assign({},e)}))}}}(h.value);v((function(){return e.modelValue}),(function(e){e!==f.getDoc()&&f.setDoc(e)})),v((function(){return e.extensions}),(function(e){return f.reExtensions(e||[])}),{immediate:!0}),v((function(){return D.value.disabled}),(function(e){return f.toggleDisabled(e)}),{immediate:!0}),v((function(){return D.value.indentWithTab}),(function(e){return f.toggleIndentWithTab(e)}),{immediate:!0}),v((function(){return D.value.tabSize}),(function(e){return f.setTabSize(e)}),{immediate:!0}),v((function(){return D.value.placeholder}),(function(e){return f.setPlaceholder(e)}),{immediate:!0}),v((function(){return D.value.style}),(function(e){return f.setStyle(e)}),{immediate:!0}),D.value.autofocus&&f.focus(),o.emit(y.Ready,{state:c.value,view:h.value,container:s.value})})),g((function(){D.value.autoDestroy&&h.value&&function(e){e.destroy()}(h.value)})),function(){return b("div",{class:"v-codemirror",style:{display:"contents"},ref:s})}}}),V=T;export{V};
